{"ast":null,"code":"import axios from \"axios\";\nimport { GET_PROFILE, PROFILE_LOADING, CLEAR_CURRENT_PROFILE, GET_ERRORS, SET_CURRENT_USER } from \"./types\"; //Get current profile\n\nexport var getCurrentProfile = function getCurrentProfile() {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get(\"/api/profile\").then(function (res) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    });\n  };\n}; //create profile\n\nexport var createProfile = function createProfile(profileData, history) {\n  return function (dispatch) {\n    axios.post(\"/api/profile\", profileData).then(function (res) {\n      return history.push(\"/dashboard\");\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //Delete profile and account\n\nexport var deleteAccount = function deleteAccount() {\n  return function (dispatch) {\n    if (window.confirm(\"Are you sure ? this account will be delete\")) {\n      axios.delete(\"/api/profile\").then(function (res) {\n        return dispatch({\n          type: SET_CURRENT_USER,\n          payload: {}\n        });\n      }).catch(function (err) {\n        return dispatch({\n          type: GET_ERRORS,\n          payload: err.response.data\n        });\n      });\n    }\n  };\n}; //profile loading\n\nexport var setProfileLoading = function setProfileLoading() {\n  return {\n    type: PROFILE_LOADING\n  };\n}; //clear curent profile\n\nexport var clearCurrentProfile = function clearCurrentProfile() {\n  return {\n    type: CLEAR_CURRENT_PROFILE\n  };\n};","map":{"version":3,"sources":["/Users/anujthapa/Documents/fudo/fudo/client/src/redux/action/profileAction.js"],"names":["axios","GET_PROFILE","PROFILE_LOADING","CLEAR_CURRENT_PROFILE","GET_ERRORS","SET_CURRENT_USER","getCurrentProfile","dispatch","setProfileLoading","get","then","res","type","payload","data","createProfile","profileData","history","post","push","catch","err","response","deleteAccount","window","confirm","delete","clearCurrentProfile"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,WADF,EAEEC,eAFF,EAGEC,qBAHF,EAIEC,UAJF,EAKEC,gBALF,QAMO,SANP,C,CAQA;;AACA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,SAAM,UAAAC,QAAQ,EAAI;AACjDA,IAAAA,QAAQ,CAACC,iBAAiB,EAAlB,CAAR;AACAR,IAAAA,KAAK,CAACS,GAAN,CAAU,cAAV,EAA0BC,IAA1B,CAA+B,UAAAC,GAAG;AAAA,aAChCJ,QAAQ,CAAC;AACPK,QAAAA,IAAI,EAAEX,WADC;AAEPY,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,OAAD,CADwB;AAAA,KAAlC;AAMD,GARgC;AAAA,CAA1B,C,CASP;;AACA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,WAAD,EAAcC,OAAd;AAAA,SAA0B,UAAAV,QAAQ,EAAI;AACjEP,IAAAA,KAAK,CACFkB,IADH,CACQ,cADR,EACwBF,WADxB,EAEGN,IAFH,CAEQ,UAAAC,GAAG;AAAA,aAAIM,OAAO,CAACE,IAAR,CAAa,YAAb,CAAJ;AAAA,KAFX,EAGGC,KAHH,CAGS,UAAAC,GAAG;AAAA,aACRd,QAAQ,CAAC;AACPK,QAAAA,IAAI,EAAER,UADC;AAEPS,QAAAA,OAAO,EAAEQ,GAAG,CAACC,QAAJ,CAAaR;AAFf,OAAD,CADA;AAAA,KAHZ;AASD,GAV4B;AAAA,CAAtB,C,CAYP;;AACA,OAAO,IAAMS,aAAa,GAAG,SAAhBA,aAAgB;AAAA,SAAM,UAAAhB,QAAQ,EAAI;AAC7C,QAAIiB,MAAM,CAACC,OAAP,CAAe,4CAAf,CAAJ,EAAkE;AAChEzB,MAAAA,KAAK,CACF0B,MADH,CACU,cADV,EAEGhB,IAFH,CAEQ,UAAAC,GAAG;AAAA,eAAIJ,QAAQ,CAAC;AAAEK,UAAAA,IAAI,EAAEP,gBAAR;AAA0BQ,UAAAA,OAAO,EAAE;AAAnC,SAAD,CAAZ;AAAA,OAFX,EAGGO,KAHH,CAGS,UAAAC,GAAG;AAAA,eAAId,QAAQ,CAAC;AAAEK,UAAAA,IAAI,EAAER,UAAR;AAAoBS,UAAAA,OAAO,EAAEQ,GAAG,CAACC,QAAJ,CAAaR;AAA1C,SAAD,CAAZ;AAAA,OAHZ;AAID;AACF,GAP4B;AAAA,CAAtB,C,CASP;;AACA,OAAO,IAAMN,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AACrC,SAAO;AACLI,IAAAA,IAAI,EAAEV;AADD,GAAP;AAGD,CAJM,C,CAMP;;AACA,OAAO,IAAMyB,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AACvC,SAAO;AACLf,IAAAA,IAAI,EAAET;AADD,GAAP;AAGD,CAJM","sourcesContent":["import axios from \"axios\"\nimport {\n  GET_PROFILE,\n  PROFILE_LOADING,\n  CLEAR_CURRENT_PROFILE,\n  GET_ERRORS,\n  SET_CURRENT_USER\n} from \"./types\"\n\n//Get current profile\nexport const getCurrentProfile = () => dispatch => {\n  dispatch(setProfileLoading())\n  axios.get(\"/api/profile\").then(res =>\n    dispatch({\n      type: GET_PROFILE,\n      payload: res.data\n    })\n  )\n}\n//create profile\nexport const createProfile = (profileData, history) => dispatch => {\n  axios\n    .post(\"/api/profile\", profileData)\n    .then(res => history.push(\"/dashboard\"))\n    .catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      })\n    )\n}\n\n//Delete profile and account\nexport const deleteAccount = () => dispatch => {\n  if (window.confirm(\"Are you sure ? this account will be delete\")) {\n    axios\n      .delete(\"/api/profile\")\n      .then(res => dispatch({ type: SET_CURRENT_USER, payload: {} }))\n      .catch(err => dispatch({ type: GET_ERRORS, payload: err.response.data }))\n  }\n}\n\n//profile loading\nexport const setProfileLoading = () => {\n  return {\n    type: PROFILE_LOADING\n  }\n}\n\n//clear curent profile\nexport const clearCurrentProfile = () => {\n  return {\n    type: CLEAR_CURRENT_PROFILE\n  }\n}\n"]},"metadata":{},"sourceType":"module"}